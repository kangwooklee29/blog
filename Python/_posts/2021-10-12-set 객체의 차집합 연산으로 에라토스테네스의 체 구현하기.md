```python
def getPrimeNumbers(n):
    p = set(range(2, n+1))

    for i in range(2, int(n**0.5)+1):
        p -= set(range(i*i, int(n**0.5)+1, i)) if i in p else set()
    
    return p
```
